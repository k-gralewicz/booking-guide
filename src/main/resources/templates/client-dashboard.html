<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"> <head>
    <meta charset="UTF-8">
    <title>Client Dashboard</title>
</head>
<body>
<div>
    <h1>Client Dashboard</h1>
    <div>
        <table>
            <thead> <tr>
                <th>ID</th>
                <th>Client</th>     <th>Service</th>    <th>Shop</th>       <th>Due Date</th>   </tr>
            </thead>
            <tbody> <tr th:if="${visits == null || visits.isEmpty()}">
                <td colspan="5" style="text-align: center;">Nie znaleziono żadnych wizyt.</td>
            </tr>
            <tr th:each="visit : ${visits}">
                <td th:text="${visit.id}">ID</td>

                <td th:text="${visit.client?.firstName + ' ' + visit.client?.lastName}">Imię Nazwisko</td>

                <td th:text="${visit.service?.name}">Nazwa Usługi</td>

                <td th:text="${visit.shop?.name}">Nazwa Sklepu</td>

                <td th:text="${visit.dueDate != null ? #temporals.format(visit.dueDate, 'dd-MM-yyyy HH:mm') : ''}">Data i Godzina</td>
            </tr>
            </tbody>
        </table>
<!--        #{selection.__${sel.code}__}-->
        <br/> <button><a th:href="@{/visits/create?username=__${#authentication.name}__}">Book a new visit</a></button> </div>
</div>
</body>
</html>